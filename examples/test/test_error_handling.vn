import System
func main() {
    System.print("Testing try-happen error handling...");
    
    || Test 1: Division by zero error
    try {
        System.print("Test 1: Division by zero");
        var result = 10 / 0;
        System.print("Result: " + result);
    } happen (DivideByZeroError) as e {
        System.print("Caught DivideByZeroError:");
        System.print("  Error text: " + e.text);
        System.print("  Error type: " + e.type);
        System.print("  Error info: " + e.info);
    }
    
    || Test 2: Value error
    try {
        System.print("\nTest 2: Value error");
        var result = type.int("abc");
        System.print("Result: " + result);
    } happen (ValueError) as e {
        System.print("Caught ValueError:");
        System.print("  Error text: " + e.text);
        System.print("  Error type: " + e.type);
        System.print("  Error info: " + e.info);
    }
    
    || Test 3: Method error
    try {
        System.print("\nTest 3: Method error");
        var obj = instance Person("Test");
        obj.nonExistentMethod();
    } happen (MethodError) as e {
        System.print("Caught MethodError:");
        System.print("  Error text: " + e.text);
        System.print("  Error type: " + e.type);
        System.print("  Error info: " + e.info);
    }

    || Test 4: Immut Error
    try {
        || Test constant reassignment error
        System.print("\nTest 4: Immut error");
        immut var b = 30;
        b = 40; || This should cause an ImmutError
        System.print(b);
    } happen (ImmutError) as E {
        System.print("Caught Immut Error:");
        System.print("  Error text: " + e.text);
        System.print("  Error type: " + e.type);
        System.print("  Error info: " + e.info);
    }
    
    || Test 5: Generic Error type (should catch all errors)
    try {
        System.print("\nTest 5: Generic Error type");
        var result = 10 / 0;
        System.print("Result: " + result);
    } happen (Error) as e {
        System.print("Caught generic Error:");
        System.print("  Error text: " + e.text);
        System.print("  Error type: " + e.type);
        System.print("  Error info: " + e.info);
    }
    
    System.print("\nAll tests completed!");
    return 0;
}